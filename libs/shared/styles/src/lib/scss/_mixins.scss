@use 'variables' as *;

// Flexbox Mixins
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-start {
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

@mixin flex-end {
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

// Typography Mixins
@mixin heading-1 {
  font-size: 2.5rem;
  font-weight: $font-weight-bold;
  line-height: 1.2;
  margin-bottom: $spacer-md;
}

@mixin heading-2 {
  font-size: 2rem;
  font-weight: $font-weight-bold;
  line-height: 1.25;
  margin-bottom: $spacer-md;
}

@mixin heading-3 {
  font-size: 1.5rem;
  font-weight: $font-weight-medium;
  line-height: 1.3;
  margin-bottom: $spacer-sm;
}

@mixin body-text {
  font-size: $font-size-base;
  line-height: $line-height-base;
}

@mixin small-text {
  font-size: $font-size-sm;
  line-height: $line-height-base;
}

// Button Mixins
@mixin button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: $spacer-sm;
  padding: $spacer-sm $spacer-md;
  font-size: $font-size-base;
  font-weight: $font-weight-medium;
  line-height: 1.5;
  text-decoration: none;
  border: 1px solid transparent;
  border-radius: $border-radius-md;
  cursor: pointer;
  transition: transform $transition-fast, background-color $transition-fast,
    box-shadow $transition-fast, border-color $transition-fast, color $transition-fast;
  box-shadow: var(--btn-shadow, none);

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

@mixin button-primary {
  @include button-base;
  background-color: var(--btn-primary-bg, $primary-color);
  color: var(--btn-primary-text, $white);

  &:hover:not(:disabled) {
    background-color: var(--btn-primary-bg-hover, $primary-dark);
    transform: translateY(-1px);
    box-shadow: var(--btn-shadow-hover, $shadow-md);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px var(--focus-ring, rgba($primary-color, 0.3));
  }
}

@mixin button-secondary {
  @include button-base;
  background-color: var(--btn-secondary-bg, transparent);
  color: var(--btn-secondary-text, $primary-color);
  border-color: var(--btn-secondary-border, $primary-color);

  &:hover:not(:disabled) {
    background-color: var(--btn-secondary-bg-hover, rgba($primary-color, 0.1));
    transform: translateY(-1px);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px var(--focus-ring, rgba($primary-color, 0.3));
  }
}

// Input Mixins
@mixin input-base {
  width: 100%;
  padding: $spacer-sm $spacer-md;
  font-size: $font-size-base;
  line-height: 1.5;
  border: 1px solid var(--input-border, $gray-300);
  border-radius: $border-radius-md;
  background-color: var(--input-bg, $white);
  color: var(--input-text, $gray-900);
  transition: border-color $transition-fast, box-shadow $transition-fast, background-color $transition-fast;

  &:focus {
    outline: none;
    border-color: var(--input-focus-border, $primary-color);
    box-shadow: 0 0 0 3px var(--input-focus-shadow, rgba($primary-color, 0.1));
  }

  &::placeholder {
    color: var(--input-placeholder, $gray-500);
  }

  &:disabled {
    background-color: $gray-100;
    cursor: not-allowed;
  }
}

// Card Mixin
@mixin card {
  background-color: var(--card-bg, $white);
  border: 1px solid var(--card-border, $gray-200);
  border-radius: $border-radius-lg;
  box-shadow: var(--card-shadow, $shadow-md);
  padding: $spacer-lg;
}

// Overlay Mixin
@mixin overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba($black, 0.5);
  z-index: $z-index-modal-backdrop;
}

// Responsive Mixins
@mixin respond-to($breakpoint) {
  @if $breakpoint == 'sm' {
    @media (min-width: $breakpoint-sm) { @content; }
  } @else if $breakpoint == 'md' {
    @media (min-width: $breakpoint-md) { @content; }
  } @else if $breakpoint == 'lg' {
    @media (min-width: $breakpoint-lg) { @content; }
  } @else if $breakpoint == 'xl' {
    @media (min-width: $breakpoint-xl) { @content; }
  } @else if $breakpoint == 'xxl' {
    @media (min-width: $breakpoint-xxl) { @content; }
  }
}

// Responsive down (max-width media queries)
@mixin respond-down($breakpoint) {
  @if $breakpoint == 'sm' {
    @media (max-width: #{$breakpoint-sm - 1px}) { @content; }
  } @else if $breakpoint == 'md' {
    @media (max-width: #{$breakpoint-md - 1px}) { @content; }
  } @else if $breakpoint == 'lg' {
    @media (max-width: #{$breakpoint-lg - 1px}) { @content; }
  } @else if $breakpoint == 'xl' {
    @media (max-width: #{$breakpoint-xl - 1px}) { @content; }
  } @else if $breakpoint == 'xxl' {
    @media (max-width: #{$breakpoint-xxl - 1px}) { @content; }
  }
}

// Touch-friendly target sizing
@mixin touch-target($min-size: 44px) {
  min-width: $min-size;
  min-height: $min-size;
}

// RTL Support
@mixin rtl {
  [dir='rtl'] & {
    @content;
  }
}

// Text Truncation
@mixin text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin line-clamp($lines) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
